<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amate TV - En Vivo</title>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: #111;
            color: #fff;
        }
        
        header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: #000;
            padding: 10px 20px;
        }
        
        header img {
            height: 25px;
        }
        /* ===== NAV CANALES ===== */
        
        nav {
            display: flex;
            flex-wrap: nowrap;
            /* No se rompen en mobile */
            gap: 10px;
            padding: 10px;
            background: #1c1c1c;
            justify-content: center;
            overflow-x: auto;
            /* Scroll horizontal si no caben */
        }
        
        .channel-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            color: #fff;
            text-decoration: none;
            font-weight: bold;
            transition: transform 0.2s, border 0.2s;
            flex: 1 1 22%;
            /* Aproximadamente 1/4 de la fila */
            aspect-ratio: 1 / 1;
            /* Cuadrado */
            min-width: 70px;
            text-align: center;
            overflow: hidden;
            position: relative;
            border: 2px solid transparent;
            /* Borde por defecto */
        }
        
        .channel-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            /* Logo cubre todo el card */
        }
        
        .channel-card.selected {
            border: 3px solid #fff;
            /* Borde blanco al canal seleccionado */
        }
        
        .channel-card:hover {
            transform: scale(1.05);
        }
        
        .canal1 {
            background: #e63946;
        }
        
        .canal2 {
            background: #457b9d;
        }
        
        .canal3 {
            background: #2a9d8f;
        }
        
        .canal4 {
            background: #f4a261;
        }
        
        .video-container {
            position: relative;
            max-width: 100%;
            background: #000;
        }
        
        video {
            width: 100%;
            height: auto;
            display: block;
            background: #000;
        }
        
        .live-tag {
            position: absolute;
            top: 10px;
            right: 10px;
            background: red;
            color: white;
            padding: 5px 10px;
            font-weight: bold;
            font-size: 14px;
            border-radius: 5px;
            z-index: 10;
        }
        
        .video-info {
            padding: 15px;
        }
        
        .video-info h2 {
            margin: 0;
            font-size: 22px;
            color: #00bcd4;
        }
        
        .video-info p {
            margin: 8px 0 0;
            color: #ccc;
        }
        
        .video-actions {
            display: flex;
            gap: 15px;
            padding: 10px 15px;
            border-top: 1px solid #222;
            border-bottom: 1px solid #222;
            flex-wrap: wrap;
        }
        
        .video-actions button {
            background: #1c1c1c;
            border: none;
            color: #fff;
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .video-actions button:hover {
            background: #333;
        }
        
        .otros-videos {
            padding: 20px;
        }
        
        .otros-videos h3 {
            margin-bottom: 15px;
            color: #00bcd4;
        }
        
        .cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 15px;
        }
        
        .card {
            background: #1c1c1c;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
            transition: transform 0.2s;
        }
        
        .card:hover {
            transform: scale(1.05);
        }
        
        .card video,
        .card img {
            width: 100%;
            height: auto;
            display: block;
        }
        
        .card h4 {
            margin: 10px;
            font-size: 16px;
            color: #fff;
        }
        /* Responsive */
        
        @media (max-width: 600px) {
            .channel-card {
                flex: 1 1 100%;
            }
        }
    </style>
</head>

<body>

    <header>
        <img src="assets/Logo AmateTV (blanco).png" alt="Amate TV Logo">
    </header>

    <!-- NAV CANALES -->
    <nav>
        <a href="?canal=1" class="channel-card canal1">
            <img src="assets/AMATE TV EN LAS CALLES.png" alt="Canal 1">
        </a>
        <a href="?canal=2" class="channel-card canal2">
            <img src="assets/AMATE KIDS.png" alt="Canal 2">
        </a>
        <a href="?canal=3" class="channel-card canal3">
            <img src="assets/amate sports.png" alt="Canal 3">
        </a>
        <a href="?canal=4" class="channel-card canal4">
            <img src="assets/LOGO CULTIVA CONOCIMIENTO.png" alt="Canal 4">
        </a>
    </nav>

    <div class="video-container">
        <video id="liveVideo" controls autoplay muted></video>
        <div class="live-tag">EN VIVO</div>
    </div>

    <div class="video-info">
        <h2 id="liveTitle">Título del En Vivo</h2>
        <p id="liveDesc">Descripción breve del programa en vivo transmitido en Amate TV.</p>
    </div>

    <div class="video-actions">
        <button id="likeBtn"><i class="fa-solid fa-thumbs-up"></i> <span id="likeCount">0</span></button>
        <button id="dislikeBtn"><i class="fa-solid fa-thumbs-down"></i> <span id="dislikeCount">0</span></button>
        <button id="shareBtn"><i class="fa-solid fa-share-nodes"></i> Compartir</button>
        <button id="saveBtn"><i class="fa-solid fa-bookmark"></i> Guardar</button>
    </div>

    <section class="otros-videos">
        <h3>Otros Videos</h3>
        <div class="cards">
            <div class="card">
                <video controls>
          <source src="video1.mp4" type="video/mp4">
        </video>
                <h4>Título del Video 1</h4>
            </div>
            <div class="card">
                <video controls>
          <source src="video2.mp4" type="video/mp4">
        </video>
                <h4>Título del Video 2</h4>
            </div>
            <div class="card">
                <video controls>
          <source src="video3.mp4" type="video/mp4">
        </video>
                <h4>Título del Video 3</h4>
            </div>
        </div>
    </section>

    <!-- HLS.js -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <script>
        const canales = {
            1: {
                title: "Desfile de Independencia | Arizona Atlantida",
                desc: "Transmisión en vivo de las noticias más recientes.",
                url: "https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8"
            },
            2: {
                title: "La Casa de Pavis",
                desc: "Eventos deportivos en vivo.",
                url: "https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8"
            },
            3: {
                title: "Resumen del Calasico | LALIGA | 90+3",
                desc: "Conciertos y presentaciones musicales.",
                url: "https://moctv-live.akamaized.net/hls/live/2017836/moctv/master.m3u8"
            },
            4: {
                title: "El Reino de las Plantas",
                desc: "Programas culturales y documentales educativos.",
                url: "https://mnmedias.api.telequebec.tv/m3u8/29880.m3u8"
            }
        };

        const urlParams = new URLSearchParams(window.location.search);
        const canal = urlParams.get("canal") || 1;
        const videoData = canales[canal];

        document.getElementById("liveTitle").textContent = videoData.title;
        document.getElementById("liveDesc").textContent = videoData.desc;

        const video = document.getElementById("liveVideo");
        if (Hls.isSupported()) {
            const hls = new Hls();
            hls.loadSource(videoData.url);
            hls.attachMedia(video);
        } else if (video.canPlayType("application/vnd.apple.mpegurl")) {
            video.src = videoData.url;
        }

        // Botones
        let likes = 0,
            dislikes = 0;
        document.getElementById('likeBtn').addEventListener('click', () => {
            likes++;
            document.getElementById('likeCount').textContent = likes;
        });
        document.getElementById('dislikeBtn').addEventListener('click', () => {
            dislikes++;
            document.getElementById('dislikeCount').textContent = dislikes;
        });
        document.getElementById('shareBtn').addEventListener('click', async() => {
            const url = window.location.href;
            if (navigator.share) {
                await navigator.share({
                    title: "Amate TV - En Vivo",
                    url
                });
            } else {
                navigator.clipboard.writeText(url);
                alert("Link copiado: " + url);
            }
        });
        document.getElementById('saveBtn').addEventListener('click', () => {
            localStorage.setItem("savedVideo", videoData.title);
            alert("Video guardado.");
        });
    </script>
</body>

</html>